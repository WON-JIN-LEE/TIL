# 💻 [SQL] ENUM, SET 타입

## Myslq ENUM 타입

- ENUM은 단일선택, SET은 다중선택을 지원한다는 것이 그 차이이다.
- ENUM 컬럼도 empty string이나 null값 삽입 가능하고 empty string은 유효하지 않은 값으로 취급된다.
- ENUM 항목이 없어지면 기존에 있던 삭제된 그 항목을 가지고 있던 컬럼값은 유효하지 않은 상태(empty string)로 변경된다.

### 장점

- 데이터 용량을 적게 차지한다. 문자열은 자동적으로 숫자로 인코딩되어 저장되기 때문이다.(쿼리 결과에서 저장된 숫자는 대응되는 문자열로 변환)'medium'이라는 값 100만개를 VARCHAR로 저장하려면 600만 bytes가 필요하지만 enum은 100만 byte만 필요하다.
- 데이터의 정합성을 높일 수 있다. (유효하지 않은 값은 무효화되므로)


 
### 단점

- ENUM 컬럼에 대해 order by를 하면 추가적인 비용이 든다. ENUM 항목 변경하는 작업이 수고롭다. 스키마 변경을 해야하고 삭제된 항목의 값을 가지는 컬럼에 대한 처리도 필요하다.(그냥 두면 무효화되므로 경우에 따라 마이그레이션 필요할 수도)Enum 컬럼을 다른 테이블 FK로 사용한 경우 다른 테이블들까지 영향을 받게 된다.
- 다른 DBMS로 이식성이 안좋다. (다른 DBMS는 ENUM 타입이 없으므로)


___

## SET 타입
**SET type은 정해진 리스트 내에서 중복되지 않는 여러 값을 가질 수 있는 string object이다.**

enum 과 유사하게 생겼으나 전혀 다른 별개의 자료형입니다. enum ('a','b','c') 라고 정의된 필드가 있다고 생각합시다.

이 자료형은 a 나 b, c(혹은 null) 중 단 하나의 값을 가질수 있습니다.

set('a','b','c') 라고 정의된 필드는 enum과는 조금 다르게 
null, a, b, c, (a,b), (a,c)... (a,b,c) 와 같은 값을 가질수 있습니다.

그리고 또 하나 set 에 정의된 아이템은 비트 연산이 가능합니다.

```
null  - 000 (0)
a     - 001 (1)
b     - 010 (2)
c     - 100 (4)
a,b   - 011 (3)
a,b,c - 111 (7)
```

- set 형은 최대 64개의 아이템을 가질수 있고 select 문을 통해서 문자열 혹은 정수 값으로 열람이 가능합니다.
- SET type은 하나의 값마다 순서대로 Binary Value가 부여된다.